<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Ativar PRO</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body class="bg-gray-900 text-white p-6">


<h1 class="text-xl mb-4">⭐ Ativar Plano PRO</h1>
<p class="mb-2">PIX Copia e Cola:</p>
<div class="bg-gray-800 p-2 rounded mb-4">SEU_PIX_AQUI</div>


<a class="bg-green-600 p-2 rounded" href="https://wa.me/55SEUNUMERO" target="_blank">Enviar comprovante</a>


<div class="mt-4">
<input id="code" class="p-2 text-black rounded" placeholder="Código de ativação" />
<button onclick="activate()" class="bg-blue-600 p-2 rounded ml-2">Ativar</button>
</div>


<script>
const firebaseConfig = {
apiKey: "AIzaSyAWic8GgxaPKjyFtIKH4KXj4J6A6bVOBg0",
authDomain: "efootball-torneio.firebaseapp.com",
projectId: "efootball-torneio",
appId: "1:909084318349:web:a627eaf51f973b87df60c4"
};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();
let uid;


auth.onAuthStateChanged(u=>uid=u.uid);


async function activate(){
const ref=db.collection('licenses').doc(code.value);
const snap=await ref.get();
if(!snap.exists||snap.data().used){alert('Código inválido');return;}


await ref.update({used:true,usedBy:uid});
await db.collection('users').doc(uid).update({plan:'pro'});
alert('PRO ativado!');
}
</script>
</body>
</html>
